<!--
This file is part of the Ristra portage project.
Please see the license file at the root of this repository, or at:
    https://github.com/laristra/portage/blob/master/LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- Font stuff -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'/>
    <script src="//use.fontawesome.com/3dce4d8e65.js"></script>
    <!-- the default version jquery provided by doxygen is too old for bootstrap
	 but it also contains local modifications.  we have extracted those that
	 are needed so that we can use a newer jquery. -->
    <!-- <script type="text/javascript" src="//code.jquery.com/jquery-3.1.1.min.js"></script> -->
    <script
			  src="//code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
      <!-- <script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script type="text/javascript" src="smartmenu.js"></script>
    <title>portage: Portage::MismatchFixer&lt; D, onwhat, SourceMesh_Wrapper, SourceState_Wrapper, TargetMesh_Wrapper, TargetState_Wrapper &gt; Class Template Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
      <!-- this version is too old for bootstrap, but it includes modifications
	   from standard jquery
    <script type="text/javascript" src="jquery.js"></script>  -->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/> -->
    <!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  </head>
  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <img src="Portage-logo-small.png" alt="portage">
        </div>
      </div>
    </nav>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div class="content" id="content">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 panel " style="padding-bottom: 15px;">
              <div style="margin-bottom: 15px;">
      		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePortage.html">Portage</a></li><li class="navelem"><a class="el" href="classPortage_1_1MismatchFixer.html">MismatchFixer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classPortage_1_1MismatchFixer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Portage::MismatchFixer&lt; D, onwhat, SourceMesh_Wrapper, SourceState_Wrapper, TargetMesh_Wrapper, TargetState_Wrapper &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fix__mismatch_8h_source.html">fix_mismatch.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0a6ae902a16d415fa5a8d98c6f234ad9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1MismatchFixer.html#a0a6ae902a16d415fa5a8d98c6f234ad9">MismatchFixer</a> (SourceMesh_Wrapper const &amp;source_mesh, SourceState_Wrapper const &amp;source_state, TargetMesh_Wrapper const &amp;target_mesh, TargetState_Wrapper &amp;target_state, <a class="el" href="namespacePortage.html#ad86a06a9372f05948709ca73e058981d">Portage::vector</a>&lt; std::vector&lt; Weights_t &gt;&gt; const &amp;source_ents_and_weights, Wonton::Executor_type const *executor)</td></tr>
<tr class="separator:a0a6ae902a16d415fa5a8d98c6f234ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea7259d36aa8f8ed5482e088590d07f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1MismatchFixer.html#a8ea7259d36aa8f8ed5482e088590d07f">has_mismatch</a> () const</td></tr>
<tr class="separator:a8ea7259d36aa8f8ed5482e088590d07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b245fde20ee9a2746a65e134a9cb5a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1MismatchFixer.html#a37b245fde20ee9a2746a65e134a9cb5a">fix_mismatch</a> (std::string const &amp;src_var_name, std::string const &amp;trg_var_name, double global_lower_bound=-std::numeric_limits&lt; double &gt;::max(), double global_upper_bound=std::numeric_limits&lt; double &gt;::max(), double conservation_tol=1e2 *std::numeric_limits&lt; double &gt;::epsilon(), int maxiter=5, Partial_fixup_type partial_fixup_type=Partial_fixup_type::SHIFTED_CONSERVATIVE, Empty_fixup_type empty_fixup_type=Empty_fixup_type::EXTRAPOLATE)</td></tr>
<tr class="memdesc:a37b245fde20ee9a2746a65e134a9cb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair the remapped field to account for boundary mismatch.  <a href="#a37b245fde20ee9a2746a65e134a9cb5a">More...</a><br /></td></tr>
<tr class="separator:a37b245fde20ee9a2746a65e134a9cb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f91cb71012b66caf7f8e8092e33692"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1MismatchFixer.html#a54f91cb71012b66caf7f8e8092e33692">fix_mismatch_meshvar</a> (std::string const &amp;src_var_name, std::string const &amp;trg_var_name, double global_lower_bound, double global_upper_bound, double conservation_tol=1e2 *std::numeric_limits&lt; double &gt;::epsilon(), int maxiter=5, Partial_fixup_type partial_fixup_type=Partial_fixup_type::SHIFTED_CONSERVATIVE, Empty_fixup_type empty_fixup_type=Empty_fixup_type::EXTRAPOLATE)</td></tr>
<tr class="memdesc:a54f91cb71012b66caf7f8e8092e33692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair a remapped mesh field to account for boundary mismatch.  <a href="#a54f91cb71012b66caf7f8e8092e33692">More...</a><br /></td></tr>
<tr class="separator:a54f91cb71012b66caf7f8e8092e33692"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0a6ae902a16d415fa5a8d98c6f234ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a6ae902a16d415fa5a8d98c6f234ad9">&#9670;&nbsp;</a></span>MismatchFixer()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, Entity_kind onwhat, class SourceMesh_Wrapper , class SourceState_Wrapper , class TargetMesh_Wrapper , class TargetState_Wrapper &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPortage_1_1MismatchFixer.html">Portage::MismatchFixer</a>&lt; D, onwhat, SourceMesh_Wrapper, SourceState_Wrapper, TargetMesh_Wrapper, TargetState_Wrapper &gt;::<a class="el" href="classPortage_1_1MismatchFixer.html">MismatchFixer</a> </td>
          <td>(</td>
          <td class="paramtype">SourceMesh_Wrapper const &amp;&#160;</td>
          <td class="paramname"><em>source_mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SourceState_Wrapper const &amp;&#160;</td>
          <td class="paramname"><em>source_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetMesh_Wrapper const &amp;&#160;</td>
          <td class="paramname"><em>target_mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetState_Wrapper &amp;&#160;</td>
          <td class="paramname"><em>target_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#ad86a06a9372f05948709ca73e058981d">Portage::vector</a>&lt; std::vector&lt; Weights_t &gt;&gt; const &amp;&#160;</td>
          <td class="paramname"><em>source_ents_and_weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Wonton::Executor_type const *&#160;</td>
          <td class="paramname"><em>executor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a37b245fde20ee9a2746a65e134a9cb5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b245fde20ee9a2746a65e134a9cb5a">&#9670;&nbsp;</a></span>fix_mismatch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, Entity_kind onwhat, class SourceMesh_Wrapper , class SourceState_Wrapper , class TargetMesh_Wrapper , class TargetState_Wrapper &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1MismatchFixer.html">Portage::MismatchFixer</a>&lt; D, onwhat, SourceMesh_Wrapper, SourceState_Wrapper, TargetMesh_Wrapper, TargetState_Wrapper &gt;::fix_mismatch </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>src_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>trg_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_lower_bound</em> = <code>-std::numeric_limits&lt;double&gt;::max()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_upper_bound</em> = <code>std::numeric_limits&lt;double&gt;::max()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>conservation_tol</em> = <code>1e2*std::numeric_limits&lt;double&gt;::epsilon()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxiter</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1e">Partial_fixup_type</a>&#160;</td>
          <td class="paramname"><em>partial_fixup_type</em> = <code>Partial_fixup_type::SHIFTED_CONSERVATIVE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dad">Empty_fixup_type</a>&#160;</td>
          <td class="paramname"><em>empty_fixup_type</em> = <code>Empty_fixup_type::EXTRAPOLATE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair the remapped field to account for boundary mismatch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_var_name</td><td>field variable on source mesh </td></tr>
    <tr><td class="paramname">trg_var_name</td><td>field variable on target mesh </td></tr>
    <tr><td class="paramname">global_lower_bound</td><td>lower limit on variable </td></tr>
    <tr><td class="paramname">global_upper_bound</td><td>upper limit on variable </td></tr>
    <tr><td class="paramname">partial_fixup_type</td><td>type of fixup in case of partial mismatch </td></tr>
    <tr><td class="paramname">empty_fixup_type</td><td>type of fixup in empty target entities</td></tr>
  </table>
  </dd>
</dl>
<p>partial_fixup_type can be one of three types:</p>
<p>CONSTANT - Fields will see no perturbations BUT REMAP WILL BE NON-CONSERVATIVE (constant preserving, not linearity preserving) LOCALLY_CONSERVATIVE - REMAP WILL BE LOCALLY CONSERVATIVE (target cells will preserve the integral quantities received from source mesh overlap) but perturbations will occur in the field (constant fields may not stay constant if there is mismatch) SHIFTED_CONSERVATIVE - REMAP WILL BE CONSERVATIVE and field perturbations will be minimum but field values may be shifted (Constant fields will be shifted to different constant; no guarantees on linearity preservation)</p>
<p>empty_fixup_type can be one of two types:</p>
<p>LEAVE_EMPTY - Leave empty cells as is EXTRAPOLATE - Fill empty cells with extrapolated values FILL - Fill empty cells with specified values (not yet implemented) </p>

</div>
</div>
<a id="a54f91cb71012b66caf7f8e8092e33692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f91cb71012b66caf7f8e8092e33692">&#9670;&nbsp;</a></span>fix_mismatch_meshvar()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, Entity_kind onwhat, class SourceMesh_Wrapper , class SourceState_Wrapper , class TargetMesh_Wrapper , class TargetState_Wrapper &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1MismatchFixer.html">Portage::MismatchFixer</a>&lt; D, onwhat, SourceMesh_Wrapper, SourceState_Wrapper, TargetMesh_Wrapper, TargetState_Wrapper &gt;::fix_mismatch_meshvar </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>src_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>trg_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_lower_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_upper_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>conservation_tol</em> = <code>1e2*std::numeric_limits&lt;double&gt;::epsilon()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxiter</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1e">Partial_fixup_type</a>&#160;</td>
          <td class="paramname"><em>partial_fixup_type</em> = <code>Partial_fixup_type::SHIFTED_CONSERVATIVE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dad">Empty_fixup_type</a>&#160;</td>
          <td class="paramname"><em>empty_fixup_type</em> = <code>Empty_fixup_type::EXTRAPOLATE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair a remapped mesh field to account for boundary mismatch. </p>

</div>
</div>
<a id="a8ea7259d36aa8f8ed5482e088590d07f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea7259d36aa8f8ed5482e088590d07f">&#9670;&nbsp;</a></span>has_mismatch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, Entity_kind onwhat, class SourceMesh_Wrapper , class SourceState_Wrapper , class TargetMesh_Wrapper , class TargetState_Wrapper &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1MismatchFixer.html">Portage::MismatchFixer</a>&lt; D, onwhat, SourceMesh_Wrapper, SourceState_Wrapper, TargetMesh_Wrapper, TargetState_Wrapper &gt;::has_mismatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/portage/portage/portage/driver/<a class="el" href="fix__mismatch_8h_source.html">fix_mismatch.h</a></li>
</ul>
</div><!-- contents -->
<!--
This file is part of the Ristra portage project.
Please see the license file at the root of this repository, or at:
    https://github.com/laristra/portage/blob/master/LICENSE
-->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<!--<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address> -->
<footer id="footer" class="footer">
  <div class="container">
    <div class="row test-muted">
      <div class="footer-row col-md-6">Copyright &copy; 2019
	<a href="http://lanl.gov"> Triad National Security, LLC</a>
	All Rights Reserved.
      </div>
      <div class="footer-row col-md-2">
	<a href="https://github.com/laristra/portage/blob/master/LICENSE">
	  BSD LICENSE
	</a>
      </div>
      <div class="footer-row col-md-2">
	LA-CC-16-084
      </div>
      <div class="footer-row col-md-1">
	<a href="mailto:portage@lanl.gov">
	  <i class="fa fa-envelope-o fa-2x"></i>
	</a>
      </div>
      <div class="footer-row col-md-1">
	<a href="https://github.com/laristra/portage">
	  <i class="fa fa-github fa-2x"></i>
	</a>
      </div>
    </div>
  </div>
</footer>
<script type="text/javascript" src="doxy-boot.js"></script>
</body>
</html>
