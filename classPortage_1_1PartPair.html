<!--
This file is part of the Ristra portage project.
Please see the license file at the root of this repository, or at:
    https://github.com/laristra/portage/blob/master/LICENSE
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- Font stuff -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'/>
    <script src="//use.fontawesome.com/3dce4d8e65.js"></script>
    <!-- the default version jquery provided by doxygen is too old for bootstrap
	 but it also contains local modifications.  we have extracted those that
	 are needed so that we can use a newer jquery. -->
    <!-- <script type="text/javascript" src="//code.jquery.com/jquery-3.1.1.min.js"></script> -->
    <script
			  src="//code.jquery.com/jquery-3.3.1.min.js"
			  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			  crossorigin="anonymous"></script>
      <!-- <script src="//code.jquery.com/jquery-3.3.1.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
    <script type="text/javascript" src="smartmenu.js"></script>
    <title>portage: Portage::PartPair&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt; Class Template Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css">
      <!-- this version is too old for bootstrap, but it includes modifications
	   from standard jquery
    <script type="text/javascript" src="jquery.js"></script>  -->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/> -->
    <!-- <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
  </head>
  <body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <img src="Portage-logo-small.png" alt="portage">
        </div>
      </div>
    </nav>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div class="content" id="content">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 panel " style="padding-bottom: 15px;">
              <div style="margin-bottom: 15px;">
      		<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacePortage.html">Portage</a></li><li class="navelem"><a class="el" href="classPortage_1_1PartPair.html">PartPair</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classPortage_1_1PartPair-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Portage::PartPair&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages source and target sub-meshes for part-by-part remap. It detects boundaries mismatch and provides the necessary fixup for partially filled and empty cells values.  
 <a href="classPortage_1_1PartPair.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="parts_8h_source.html">parts.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8a736411264cc6f68ffd922902268a5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#a8a736411264cc6f68ffd922902268a5c">PartPair</a> ()=default</td></tr>
<tr class="memdesc:a8a736411264cc6f68ffd922902268a5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a default source-target mesh parts pair.  <a href="#a8a736411264cc6f68ffd922902268a5c">More...</a><br /></td></tr>
<tr class="separator:a8a736411264cc6f68ffd922902268a5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b28a956bfa3b60964e480cc92ea5090"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#a1b28a956bfa3b60964e480cc92ea5090">PartPair</a> (SourceMesh const &amp;source_mesh, SourceState &amp;source_state, TargetMesh const &amp;target_mesh, TargetState &amp;target_state, std::vector&lt; int &gt; const &amp;source_entities, std::vector&lt; int &gt; const &amp;target_entities, Wonton::Executor_type const *executor)</td></tr>
<tr class="memdesc:a1b28a956bfa3b60964e480cc92ea5090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a source-target mesh parts pair.  <a href="#a1b28a956bfa3b60964e480cc92ea5090">More...</a><br /></td></tr>
<tr class="separator:a1b28a956bfa3b60964e480cc92ea5090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc678806a235568c8d643d80ffaf8da4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#acc678806a235568c8d643d80ffaf8da4">~PartPair</a> ()=default</td></tr>
<tr class="memdesc:acc678806a235568c8d643d80ffaf8da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a source-target mesh parts pair.  <a href="#acc678806a235568c8d643d80ffaf8da4">More...</a><br /></td></tr>
<tr class="separator:acc678806a235568c8d643d80ffaf8da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4587b678ac0a302f324587cfd518eed7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#a4587b678ac0a302f324587cfd518eed7">has_mismatch</a> () const</td></tr>
<tr class="memdesc:a4587b678ac0a302f324587cfd518eed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do source and target meshes have a boundary mismatch?  <a href="#a4587b678ac0a302f324587cfd518eed7">More...</a><br /></td></tr>
<tr class="separator:a4587b678ac0a302f324587cfd518eed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04813b66e6f935fddb6acb0b068c2d16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#a04813b66e6f935fddb6acb0b068c2d16">mismatch_tested</a> () const</td></tr>
<tr class="memdesc:a04813b66e6f935fddb6acb0b068c2d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is mismatch already tested?  <a href="#a04813b66e6f935fddb6acb0b068c2d16">More...</a><br /></td></tr>
<tr class="separator:a04813b66e6f935fddb6acb0b068c2d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac687565541feb898eb2181b55bd53fcd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classPortage_1_1Part.html">SourcePart</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#ac687565541feb898eb2181b55bd53fcd">source</a> () const</td></tr>
<tr class="memdesc:ac687565541feb898eb2181b55bd53fcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a pointer to source mesh part.  <a href="#ac687565541feb898eb2181b55bd53fcd">More...</a><br /></td></tr>
<tr class="separator:ac687565541feb898eb2181b55bd53fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae381a6c90cf0d034658184650f3f7d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classPortage_1_1Part.html">TargetPart</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#abae381a6c90cf0d034658184650f3f7d">target</a> () const</td></tr>
<tr class="memdesc:abae381a6c90cf0d034658184650f3f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a pointer to target mesh part.  <a href="#abae381a6c90cf0d034658184650f3f7d">More...</a><br /></td></tr>
<tr class="separator:abae381a6c90cf0d034658184650f3f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528de7ed09cd9dccc9da259b3492aec2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#a528de7ed09cd9dccc9da259b3492aec2">compute_intersect_volumes</a> (<a class="el" href="namespacePortage.html#ad86a06a9372f05948709ca73e058981d">Portage::vector</a>&lt; entity_weights_t &gt; const &amp;source_weights)</td></tr>
<tr class="memdesc:a528de7ed09cd9dccc9da259b3492aec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute source and target parts intersection volume.  <a href="#a528de7ed09cd9dccc9da259b3492aec2">More...</a><br /></td></tr>
<tr class="separator:a528de7ed09cd9dccc9da259b3492aec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1155cceacbf571b9917047f36160d86a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#a1155cceacbf571b9917047f36160d86a">check_mismatch</a> (<a class="el" href="namespacePortage.html#ad86a06a9372f05948709ca73e058981d">Portage::vector</a>&lt; entity_weights_t &gt; const &amp;source_weights)</td></tr>
<tr class="memdesc:a1155cceacbf571b9917047f36160d86a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check and fix source/target boundaries mismatch.  <a href="#a1155cceacbf571b9917047f36160d86a">More...</a><br /></td></tr>
<tr class="separator:a1155cceacbf571b9917047f36160d86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1134fb7d33025595c310b428075494"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#ace1134fb7d33025595c310b428075494">fix_mismatch</a> (std::string src_var_name, std::string trg_var_name, double global_lower_bound=-infinity_, double global_upper_bound=infinity_, double conservation_tol=tolerance_, int maxiter=5, <a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1e">Partial_fixup_type</a> partial_fixup_type=<a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1ea91b68620275b50e4e569956bcae12669">SHIFTED_CONSERVATIVE</a>, <a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dad">Empty_fixup_type</a> empty_fixup_type=<a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dada766b6efbb49a7f24d134f8f016525c28">EXTRAPOLATE</a>) const</td></tr>
<tr class="memdesc:ace1134fb7d33025595c310b428075494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair the remapped field to account for boundary mismatch.  <a href="#ace1134fb7d33025595c310b428075494">More...</a><br /></td></tr>
<tr class="separator:ace1134fb7d33025595c310b428075494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac8459afd6e607ecad4156559d37e057"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPortage_1_1PartPair.html#aac8459afd6e607ecad4156559d37e057">fix_mismatch_meshvar</a> (std::string const &amp;src_var_name, std::string const &amp;trg_var_name, double global_lower_bound, double global_upper_bound, double conservation_tol, int maxiter, <a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1e">Partial_fixup_type</a> partial_fixup_type, <a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dad">Empty_fixup_type</a> empty_fixup_type) const</td></tr>
<tr class="memdesc:aac8459afd6e607ecad4156559d37e057"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair a remapped mesh field to account for boundary mismatch.  <a href="#aac8459afd6e607ecad4156559d37e057">More...</a><br /></td></tr>
<tr class="separator:aac8459afd6e607ecad4156559d37e057"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int D, class SourceMesh, class SourceState, class TargetMesh = SourceMesh, class TargetState = SourceState&gt;<br />
class Portage::PartPair&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;</h3>

<p>Manages source and target sub-meshes for part-by-part remap. It detects boundaries mismatch and provides the necessary fixup for partially filled and empty cells values. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">D</td><td>the problem dimension. </td></tr>
    <tr><td class="paramname">SourceMesh</td><td>the source mesh wrapper to use </td></tr>
    <tr><td class="paramname">SourceState</td><td>the source state wrapper to use </td></tr>
    <tr><td class="paramname">TargetMesh</td><td>the target mesh wrapper to use </td></tr>
    <tr><td class="paramname">TargetState</td><td>the target state wrapper to use </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8a736411264cc6f68ffd922902268a5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a736411264cc6f68ffd922902268a5c">&#9670;&nbsp;</a></span>PartPair() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::<a class="el" href="classPortage_1_1PartPair.html">PartPair</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a default source-target mesh parts pair. </p>

</div>
</div>
<a id="a1b28a956bfa3b60964e480cc92ea5090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b28a956bfa3b60964e480cc92ea5090">&#9670;&nbsp;</a></span>PartPair() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::<a class="el" href="classPortage_1_1PartPair.html">PartPair</a> </td>
          <td>(</td>
          <td class="paramtype">SourceMesh const &amp;&#160;</td>
          <td class="paramname"><em>source_mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SourceState &amp;&#160;</td>
          <td class="paramname"><em>source_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetMesh const &amp;&#160;</td>
          <td class="paramname"><em>target_mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetState &amp;&#160;</td>
          <td class="paramname"><em>target_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; const &amp;&#160;</td>
          <td class="paramname"><em>source_entities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; const &amp;&#160;</td>
          <td class="paramname"><em>target_entities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Wonton::Executor_type const *&#160;</td>
          <td class="paramname"><em>executor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a source-target mesh parts pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_mesh</td><td>the source mesh </td></tr>
    <tr><td class="paramname">target_mesh</td><td>the target mesh </td></tr>
    <tr><td class="paramname">source_state</td><td>the source mesh data </td></tr>
    <tr><td class="paramname">target_state</td><td>the target mesh data </td></tr>
    <tr><td class="paramname">source_entities</td><td>the list of source entities to remap </td></tr>
    <tr><td class="paramname">target_entities</td><td>the list of target entities to remap </td></tr>
    <tr><td class="paramname">executor</td><td>the MPI executor to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc678806a235568c8d643d80ffaf8da4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc678806a235568c8d643d80ffaf8da4">&#9670;&nbsp;</a></span>~PartPair()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::~<a class="el" href="classPortage_1_1PartPair.html">PartPair</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete a source-target mesh parts pair. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1155cceacbf571b9917047f36160d86a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1155cceacbf571b9917047f36160d86a">&#9670;&nbsp;</a></span>check_mismatch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::check_mismatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#ad86a06a9372f05948709ca73e058981d">Portage::vector</a>&lt; entity_weights_t &gt; const &amp;&#160;</td>
          <td class="paramname"><em>source_weights</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check and fix source/target boundaries mismatch. </p>
<p>T is the target mesh, S is the source mesh T_i is the i'th cell of the target mesh and |*| signifies the extent/volume of an entity</p>
<ul>
<li>if sum_i(|T_i intersect S|) NE |S|, some source cells are not completely covered by the target mesh.</li>
<li>if sum_i(|T_i intersect S|) NE |T|, some target cells are not completely covered by the source mesh</li>
<li>if there is a mismatch, adjust values for fields to account so that integral quantities are conserved and a constant field is readjusted to a different constant</li>
</ul>
<p>WARNING: 'source_ents_and_weights' is a GLOBAL list defined on the entire target mesh. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source...</td><td>source entities ID and weights for each target entity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a mismatch has been identified, false otherwise. </dd></dl>

</div>
</div>
<a id="a528de7ed09cd9dccc9da259b3492aec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528de7ed09cd9dccc9da259b3492aec2">&#9670;&nbsp;</a></span>compute_intersect_volumes()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::compute_intersect_volumes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#ad86a06a9372f05948709ca73e058981d">Portage::vector</a>&lt; entity_weights_t &gt; const &amp;&#160;</td>
          <td class="paramname"><em>source_weights</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute source and target parts intersection volume. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source_weights</td><td>candidate source cells and their intersection moments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total intersection volume. </dd></dl>

</div>
</div>
<a id="ace1134fb7d33025595c310b428075494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1134fb7d33025595c310b428075494">&#9670;&nbsp;</a></span>fix_mismatch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::fix_mismatch </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>src_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>trg_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_lower_bound</em> = <code>-infinity_</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_upper_bound</em> = <code>infinity_</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>conservation_tol</em> = <code>tolerance_</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxiter</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1e">Partial_fixup_type</a>&#160;</td>
          <td class="paramname"><em>partial_fixup_type</em> = <code><a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1ea91b68620275b50e4e569956bcae12669">SHIFTED_CONSERVATIVE</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dad">Empty_fixup_type</a>&#160;</td>
          <td class="paramname"><em>empty_fixup_type</em> = <code><a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dada766b6efbb49a7f24d134f8f016525c28">EXTRAPOLATE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair the remapped field to account for boundary mismatch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_var_name</td><td>field variable on source mesh </td></tr>
    <tr><td class="paramname">trg_var_name</td><td>field variable on target mesh </td></tr>
    <tr><td class="paramname">global_lower_bound</td><td>lower limit on variable </td></tr>
    <tr><td class="paramname">global_upper_bound</td><td>upper limit on variable </td></tr>
    <tr><td class="paramname">conservation_tol</td><td>conservation tolerance treshold </td></tr>
    <tr><td class="paramname">maxiter</td><td>max number of iterations </td></tr>
    <tr><td class="paramname">partial_fixup_type</td><td>type of fixup in case of partial mismatch </td></tr>
    <tr><td class="paramname">empty_fixup_type</td><td>type of fixup in empty target entities <hr/>
 'partial_fixup_type' can be one of three types:</td></tr>
  </table>
  </dd>
</dl>
<p>CONSTANT - Fields will see no perturbations BUT REMAP WILL BE NON-CONSERVATIVE (constant preserving, not linearity preserving) LOCALLY_CONSERVATIVE - REMAP WILL BE LOCALLY CONSERVATIVE (target cells will preserve the integral quantities received from source mesh overlap) but perturbations will occur in the field (constant fields may not stay constant if there is mismatch) SHIFTED_CONSERVATIVE - REMAP WILL BE CONSERVATIVE and field perturbations will be minimum but field values may be shifted (Constant fields will be shifted to different constant; no guarantees on linearity preservation) </p><hr/>
<p> 'empty_fixup_type' can be one of two types:</p>
<p>LEAVE_EMPTY - Leave empty cells as is EXTRAPOLATE - Fill empty cells with extrapolated values </p><h2>FILL - Fill empty cells with specified values (not yet implemented) </h2>

</div>
</div>
<a id="aac8459afd6e607ecad4156559d37e057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8459afd6e607ecad4156559d37e057">&#9670;&nbsp;</a></span>fix_mismatch_meshvar()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::fix_mismatch_meshvar </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>src_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>trg_var_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_lower_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>global_upper_bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>conservation_tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxiter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a14733964cb2a49126b6094ce7cbdeb1e">Partial_fixup_type</a>&#160;</td>
          <td class="paramname"><em>partial_fixup_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacePortage.html#a98e23e534e4657cb05de2e35f5728dad">Empty_fixup_type</a>&#160;</td>
          <td class="paramname"><em>empty_fixup_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair a remapped mesh field to account for boundary mismatch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_var_name</td><td>field variable on source mesh </td></tr>
    <tr><td class="paramname">trg_var_name</td><td>field variable on source mesh </td></tr>
    <tr><td class="paramname">global_lower_bound</td><td>lower limit on variable value </td></tr>
    <tr><td class="paramname">global_upper_bound</td><td>upper limit on variable value </td></tr>
    <tr><td class="paramname">conservation_tol</td><td>conservation tolerance treshold </td></tr>
    <tr><td class="paramname">maxiter</td><td>max number of iterations </td></tr>
    <tr><td class="paramname">partial_fixup_type</td><td>type of fixup in case of partial mismatch </td></tr>
    <tr><td class="paramname">empty_fixup_type</td><td>type of fixup in empty target entities </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if correctly fixed, false otherwise. </dd></dl>

</div>
</div>
<a id="a4587b678ac0a302f324587cfd518eed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4587b678ac0a302f324587cfd518eed7">&#9670;&nbsp;</a></span>has_mismatch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::has_mismatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do source and target meshes have a boundary mismatch? </p>
<dl class="section return"><dt>Returns</dt><dd>true if so, false otherwise. </dd></dl>

</div>
</div>
<a id="a04813b66e6f935fddb6acb0b068c2d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04813b66e6f935fddb6acb0b068c2d16">&#9670;&nbsp;</a></span>mismatch_tested()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::mismatch_tested </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is mismatch already tested? </p>
<dl class="section return"><dt>Returns</dt><dd>true if so, false otherwise. </dd></dl>

</div>
</div>
<a id="ac687565541feb898eb2181b55bd53fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac687565541feb898eb2181b55bd53fcd">&#9670;&nbsp;</a></span>source()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classPortage_1_1Part.html">SourcePart</a>&amp; <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::source </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a pointer to source mesh part. </p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to source mesh part </dd></dl>

</div>
</div>
<a id="abae381a6c90cf0d034658184650f3f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae381a6c90cf0d034658184650f3f7d">&#9670;&nbsp;</a></span>target()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int D, class SourceMesh , class SourceState , class TargetMesh  = SourceMesh, class TargetState  = SourceState&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classPortage_1_1Part.html">TargetPart</a>&amp; <a class="el" href="classPortage_1_1PartPair.html">Portage::PartPair</a>&lt; D, SourceMesh, SourceState, TargetMesh, TargetState &gt;::target </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve a pointer to target mesh part. </p>
<dl class="section return"><dt>Returns</dt><dd>a pointer to target mesh part </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/portage/portage/portage/driver/<a class="el" href="parts_8h_source.html">parts.h</a></li>
</ul>
</div><!-- contents -->
<!--
This file is part of the Ristra portage project.
Please see the license file at the root of this repository, or at:
    https://github.com/laristra/portage/blob/master/LICENSE
-->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<!--<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address> -->
<footer id="footer" class="footer">
  <div class="container">
    <div class="row test-muted">
      <div class="footer-row col-md-6">Copyright &copy; 2019
	<a href="http://lanl.gov"> Triad National Security, LLC</a>
	All Rights Reserved.
      </div>
      <div class="footer-row col-md-2">
	<a href="https://github.com/laristra/portage/blob/master/LICENSE">
	  BSD LICENSE
	</a>
      </div>
      <div class="footer-row col-md-2">
	LA-CC-16-084
      </div>
      <div class="footer-row col-md-1">
	<a href="mailto:portage@lanl.gov">
	  <i class="fa fa-envelope-o fa-2x"></i>
	</a>
      </div>
      <div class="footer-row col-md-1">
	<a href="https://github.com/laristra/portage">
	  <i class="fa fa-github fa-2x"></i>
	</a>
      </div>
    </div>
  </div>
</footer>
<script type="text/javascript" src="doxy-boot.js"></script>
</body>
</html>
